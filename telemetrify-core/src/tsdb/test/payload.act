import logging
import testing
import tsdb.common
import tsdb.prometheus

def _test_prometheus_payload() -> None:

    metrics = [ tsdb.common.Metric("foo", {"id": "prom"}, 12, 1711478045), tsdb.common.Metric("foo", {"id": "prom"}, 26, 1711478046), tsdb.common.Metric("foo", {"id": "prom"}, 37, 1711478047), tsdb.common.Metric("foo", {"id": "prom"}, 72, 1711478048), tsdb.common.Metric("foo", {"id": "prom"}, 10, 1711478049), tsdb.common.Metric("foo", {"id": "prom"}, 36, 1711478050), tsdb.common.Metric("foo", {"id": "prom"}, 30, 1711478051), tsdb.common.Metric("foo", {"id": "prom"}, 81, 1711478052), tsdb.common.Metric("foo", {"id": "prom"}, 4, 1711478053), tsdb.common.Metric("foo", {"id": "prom"}, 21, 1711478054), tsdb.common.Metric("foo", {"id": "prom"}, 40, 1711478055), tsdb.common.Metric("foo", {"id": "prom"}, 92, 1711478056), tsdb.common.Metric("foo", {"id": "prom"}, 93, 1711478057), tsdb.common.Metric("foo", {"id": "prom"}, 35, 1711478058), tsdb.common.Metric("foo", {"id": "prom"}, 81, 1711478059), tsdb.common.Metric("foo", {"id": "prom"}, 81, 1711478060), tsdb.common.Metric("foo", {"id": "prom"}, 52, 1711478061), tsdb.common.Metric("foo", {"id": "prom"}, 74, 1711478062), tsdb.common.Metric("foo", {"id": "prom"}, 56, 1711478063), tsdb.common.Metric("foo", {"id": "prom"}, 17, 1711478064), tsdb.common.Metric("foo", {"id": "prom"}, 67, 1711478065), tsdb.common.Metric("foo", {"id": "prom"}, 86, 1711478066), tsdb.common.Metric("foo", {"id": "prom"}, 81, 1711478067), tsdb.common.Metric("foo", {"id": "prom"}, 100, 1711478068), tsdb.common.Metric("foo", {"id": "prom"}, 60, 1711478069), tsdb.common.Metric("foo", {"id": "prom"}, 12, 1711478070), tsdb.common.Metric("foo", {"id": "prom"}, 92, 1711478071), tsdb.common.Metric("foo", {"id": "prom"}, 23, 1711478072), tsdb.common.Metric("foo", {"id": "prom"}, 26, 1711478073), tsdb.common.Metric("foo", {"id": "prom"}, 96, 1711478074), tsdb.common.Metric("foo", {"id": "prom"}, 39, 1711478075), tsdb.common.Metric("foo", {"id": "prom"}, 8, 1711478076), tsdb.common.Metric("foo", {"id": "prom"}, 87, 1711478077), tsdb.common.Metric("foo", {"id": "prom"}, 28, 1711478078), tsdb.common.Metric("foo", {"id": "prom"}, 34, 1711478079), tsdb.common.Metric("foo", {"id": "prom"}, 98, 1711478080), tsdb.common.Metric("foo", {"id": "prom"}, 11, 1711478081), tsdb.common.Metric("foo", {"id": "prom"}, 82, 1711478082), tsdb.common.Metric("foo", {"id": "prom"}, 91, 1711478083), tsdb.common.Metric("foo", {"id": "prom"}, 56, 1711478084), tsdb.common.Metric("foo", {"id": "prom"}, 18, 1711478085), tsdb.common.Metric("foo", {"id": "prom"}, 49, 1711478086), tsdb.common.Metric("foo", {"id": "prom"}, 92, 1711478087), tsdb.common.Metric("foo", {"id": "prom"}, 44, 1711478088), tsdb.common.Metric("foo", {"id": "prom"}, 78, 1711478089), tsdb.common.Metric("foo", {"id": "prom"}, 29, 1711478090), tsdb.common.Metric("foo", {"id": "prom"}, 9, 1711478091), tsdb.common.Metric("foo", {"id": "prom"}, 32, 1711478092), tsdb.common.Metric("foo", {"id": "prom"}, 53, 1711478093), tsdb.common.Metric("foo", {"id": "prom"}, 59, 1711478094), tsdb.common.Metric("foo", {"id": "prom"}, 47, 1711478095), tsdb.common.Metric("foo", {"id": "prom"}, 41, 1711478096), tsdb.common.Metric("foo", {"id": "prom"}, 72, 1711478097), tsdb.common.Metric("foo", {"id": "prom"}, 81, 1711478098), tsdb.common.Metric("foo", {"id": "prom"}, 30, 1711478099), tsdb.common.Metric("foo", {"id": "prom"}, 66, 1711478100), tsdb.common.Metric("foo", {"id": "prom"}, 20, 1711478101), tsdb.common.Metric("foo", {"id": "prom"}, 80, 1711478102), tsdb.common.Metric("foo", {"id": "prom"}, 93, 1711478103), tsdb.common.Metric("foo", {"id": "prom"}, 36, 1711478104), tsdb.common.Metric("foo", {"id": "prom"}, 60, 1711478105), tsdb.common.Metric("foo", {"id": "prom"}, 46, 1711478106), tsdb.common.Metric("foo", {"id": "prom"}, 81, 1711478107), tsdb.common.Metric("foo", {"id": "prom"}, 4, 1711478108), tsdb.common.Metric("foo", {"id": "prom"}, 42, 1711478109), tsdb.common.Metric("foo", {"id": "prom"}, 2, 1711478110), tsdb.common.Metric("foo", {"id": "prom"}, 93, 1711478111), tsdb.common.Metric("foo", {"id": "prom"}, 48, 1711478112), tsdb.common.Metric("foo", {"id": "prom"}, 52, 1711478113), tsdb.common.Metric("foo", {"id": "prom"}, 67, 1711478114), tsdb.common.Metric("foo", {"id": "prom"}, 88, 1711478115), tsdb.common.Metric("foo", {"id": "prom"}, 22, 1711478116), tsdb.common.Metric("foo", {"id": "prom"}, 27, 1711478117), tsdb.common.Metric("foo", {"id": "prom"}, 33, 1711478118), tsdb.common.Metric("foo", {"id": "prom"}, 4, 1711478119), tsdb.common.Metric("foo", {"id": "prom"}, 98, 1711478120), tsdb.common.Metric("foo", {"id": "prom"}, 10, 1711478121), tsdb.common.Metric("foo", {"id": "prom"}, 97, 1711478122), tsdb.common.Metric("foo", {"id": "prom"}, 46, 1711478123), tsdb.common.Metric("foo", {"id": "prom"}, 5, 1711478124), tsdb.common.Metric("foo", {"id": "prom"}, 30, 1711478125), tsdb.common.Metric("foo", {"id": "prom"}, 9, 1711478126), tsdb.common.Metric("foo", {"id": "prom"}, 50, 1711478127), tsdb.common.Metric("foo", {"id": "prom"}, 48, 1711478128), tsdb.common.Metric("foo", {"id": "prom"}, 72, 1711478129), tsdb.common.Metric("foo", {"id": "prom"}, 24, 1711478130), tsdb.common.Metric("foo", {"id": "prom"}, 63, 1711478131), tsdb.common.Metric("foo", {"id": "prom"}, 100, 1711478132), tsdb.common.Metric("foo", {"id": "prom"}, 84, 1711478133), tsdb.common.Metric("foo", {"id": "prom"}, 66, 1711478134), tsdb.common.Metric("foo", {"id": "prom"}, 50, 1711478135), tsdb.common.Metric("foo", {"id": "prom"}, 53, 1711478136), tsdb.common.Metric("foo", {"id": "prom"}, 93, 1711478137), tsdb.common.Metric("foo", {"id": "prom"}, 48, 1711478138), tsdb.common.Metric("foo", {"id": "prom"}, 88, 1711478139), tsdb.common.Metric("foo", {"id": "prom"}, 92, 1711478140), tsdb.common.Metric("foo", {"id": "prom"}, 24, 1711478141), tsdb.common.Metric("foo", {"id": "prom"}, 51, 1711478142), tsdb.common.Metric("foo", {"id": "prom"}, 39, 1711478143), tsdb.common.Metric("foo", {"id": "prom"}, 2, 1711478144), tsdb.common.Metric("foo", {"id": "prom"}, 71, 1711478145), tsdb.common.Metric("foo", {"id": "prom"}, 87, 1711478146), tsdb.common.Metric("foo", {"id": "prom"}, 19, 1711478147), tsdb.common.Metric("foo", {"id": "prom"}, 13, 1711478148), tsdb.common.Metric("foo", {"id": "prom"}, 4, 1711478149), tsdb.common.Metric("foo", {"id": "prom"}, 98, 1711478150), tsdb.common.Metric("foo", {"id": "prom"}, 98, 1711478151), tsdb.common.Metric("foo", {"id": "prom"}, 61, 1711478152), tsdb.common.Metric("foo", {"id": "prom"}, 67, 1711478153), tsdb.common.Metric("foo", {"id": "prom"}, 53, 1711478154), tsdb.common.Metric("foo", {"id": "prom"}, 21, 1711478155), tsdb.common.Metric("foo", {"id": "prom"}, 24, 1711478156), tsdb.common.Metric("foo", {"id": "prom"}, 29, 1711478157), tsdb.common.Metric("foo", {"id": "prom"}, 61, 1711478158), tsdb.common.Metric("foo", {"id": "prom"}, 63, 1711478159), tsdb.common.Metric("foo", {"id": "prom"}, 76, 1711478160), tsdb.common.Metric("foo", {"id": "prom"}, 71, 1711478161), tsdb.common.Metric("foo", {"id": "prom"}, 84, 1711478162), tsdb.common.Metric("foo", {"id": "prom"}, 22, 1711478163), tsdb.common.Metric("foo", {"id": "prom"}, 94, 1711478164), tsdb.common.Metric("foo", {"id": "prom"}, 5, 1711478165), tsdb.common.Metric("foo", {"id": "prom"}, 35, 1711478166), tsdb.common.Metric("foo", {"id": "prom"}, 50, 1711478167), tsdb.common.Metric("foo", {"id": "prom"}, 56, 1711478168), tsdb.common.Metric("foo", {"id": "prom"}, 99, 1711478169), tsdb.common.Metric("foo", {"id": "prom"}, 63, 1711478170), tsdb.common.Metric("foo", {"id": "prom"}, 69, 1711478171), tsdb.common.Metric("foo", {"id": "prom"}, 40, 1711478172), tsdb.common.Metric("foo", {"id": "prom"}, 44, 1711478173), tsdb.common.Metric("foo", {"id": "prom"}, 23, 1711478174), tsdb.common.Metric("foo", {"id": "prom"}, 8, 1711478175), tsdb.common.Metric("foo", {"id": "prom"}, 19, 1711478176), tsdb.common.Metric("foo", {"id": "prom"}, 90, 1711478177), tsdb.common.Metric("foo", {"id": "prom"}, 7, 1711478178), tsdb.common.Metric("foo", {"id": "prom"}, 41, 1711478179), tsdb.common.Metric("foo", {"id": "prom"}, 81, 1711478180), tsdb.common.Metric("foo", {"id": "prom"}, 84, 1711478181), tsdb.common.Metric("foo", {"id": "prom"}, 68, 1711478182), tsdb.common.Metric("foo", {"id": "prom"}, 98, 1711478183), tsdb.common.Metric("foo", {"id": "prom"}, 68, 1711478184), tsdb.common.Metric("foo", {"id": "prom"}, 25, 1711478185), tsdb.common.Metric("foo", {"id": "prom"}, 49, 1711478186), tsdb.common.Metric("foo", {"id": "prom"}, 87, 1711478187), tsdb.common.Metric("foo", {"id": "prom"}, 0, 1711478188), tsdb.common.Metric("foo", {"id": "prom"}, 68, 1711478189), tsdb.common.Metric("foo", {"id": "prom"}, 73, 1711478190), tsdb.common.Metric("foo", {"id": "prom"}, 1, 1711478191), tsdb.common.Metric("foo", {"id": "prom"}, 46, 1711478192), tsdb.common.Metric("foo", {"id": "prom"}, 81, 1711478193), tsdb.common.Metric("foo", {"id": "prom"}, 59, 1711478194), tsdb.common.Metric("foo", {"id": "prom"}, 4, 1711478195), tsdb.common.Metric("foo", {"id": "prom"}, 83, 1711478196), tsdb.common.Metric("foo", {"id": "prom"}, 65, 1711478197), tsdb.common.Metric("foo", {"id": "prom"}, 50, 1711478198), tsdb.common.Metric("foo", {"id": "prom"}, 88, 1711478199), tsdb.common.Metric("foo", {"id": "prom"}, 58, 1711478200), tsdb.common.Metric("foo", {"id": "prom"}, 100, 1711478201), tsdb.common.Metric("foo", {"id": "prom"}, 23, 1711478202), tsdb.common.Metric("foo", {"id": "prom"}, 13, 1711478203), tsdb.common.Metric("foo", {"id": "prom"}, 97, 1711478204), tsdb.common.Metric("foo", {"id": "prom"}, 72, 1711478205), tsdb.common.Metric("foo", {"id": "prom"}, 75, 1711478206), tsdb.common.Metric("foo", {"id": "prom"}, 2, 1711478207), tsdb.common.Metric("foo", {"id": "prom"}, 11, 1711478208), tsdb.common.Metric("foo", {"id": "prom"}, 60, 1711478209), tsdb.common.Metric("foo", {"id": "prom"}, 59, 1711478210), tsdb.common.Metric("foo", {"id": "prom"}, 52, 1711478211), tsdb.common.Metric("foo", {"id": "prom"}, 5, 1711478212), tsdb.common.Metric("foo", {"id": "prom"}, 0, 1711478213), tsdb.common.Metric("foo", {"id": "prom"}, 50, 1711478214), tsdb.common.Metric("foo", {"id": "prom"}, 51, 1711478215), tsdb.common.Metric("foo", {"id": "prom"}, 20, 1711478216), tsdb.common.Metric("foo", {"id": "prom"}, 91, 1711478217), tsdb.common.Metric("foo", {"id": "prom"}, 86, 1711478218), tsdb.common.Metric("foo", {"id": "prom"}, 1, 1711478219), tsdb.common.Metric("foo", {"id": "prom"}, 59, 1711478220), tsdb.common.Metric("foo", {"id": "prom"}, 4, 1711478221), tsdb.common.Metric("foo", {"id": "prom"}, 62, 1711478222), tsdb.common.Metric("foo", {"id": "prom"}, 19, 1711478223), tsdb.common.Metric("foo", {"id": "prom"}, 19, 1711478224), tsdb.common.Metric("foo", {"id": "prom"}, 67, 1711478225), tsdb.common.Metric("foo", {"id": "prom"}, 89, 1711478226), tsdb.common.Metric("foo", {"id": "prom"}, 32, 1711478227), tsdb.common.Metric("foo", {"id": "prom"}, 34, 1711478228), tsdb.common.Metric("foo", {"id": "prom"}, 21, 1711478229), tsdb.common.Metric("foo", {"id": "prom"}, 44, 1711478230), tsdb.common.Metric("foo", {"id": "prom"}, 51, 1711478231), tsdb.common.Metric("foo", {"id": "prom"}, 56, 1711478232), tsdb.common.Metric("foo", {"id": "prom"}, 86, 1711478233), tsdb.common.Metric("foo", {"id": "prom"}, 88, 1711478234), tsdb.common.Metric("foo", {"id": "prom"}, 10, 1711478235), tsdb.common.Metric("foo", {"id": "prom"}, 90, 1711478236), tsdb.common.Metric("foo", {"id": "prom"}, 21, 1711478237), tsdb.common.Metric("foo", {"id": "prom"}, 71, 1711478238), tsdb.common.Metric("foo", {"id": "prom"}, 32, 1711478239), tsdb.common.Metric("foo", {"id": "prom"}, 73, 1711478240), tsdb.common.Metric("foo", {"id": "prom"}, 31, 1711478241), tsdb.common.Metric("foo", {"id": "prom"}, 46, 1711478242), tsdb.common.Metric("foo", {"id": "prom"}, 81, 1711478243), tsdb.common.Metric("foo", {"id": "prom"}, 56, 1711478244), tsdb.common.Metric("foo", {"id": "prom"}, 62, 1711478245), tsdb.common.Metric("foo", {"id": "prom"}, 81, 1711478246), tsdb.common.Metric("foo", {"id": "prom"}, 74, 1711478247), tsdb.common.Metric("foo", {"id": "prom"}, 15, 1711478248), tsdb.common.Metric("foo", {"id": "prom"}, 20, 1711478249), tsdb.common.Metric("foo", {"id": "prom"}, 15, 1711478250), tsdb.common.Metric("foo", {"id": "prom"}, 86, 1711478251), tsdb.common.Metric("foo", {"id": "prom"}, 39, 1711478252), tsdb.common.Metric("foo", {"id": "prom"}, 67, 1711478253), tsdb.common.Metric("foo", {"id": "prom"}, 56, 1711478254), tsdb.common.Metric("foo", {"id": "prom"}, 9, 1711478255), tsdb.common.Metric("foo", {"id": "prom"}, 90, 1711478256), tsdb.common.Metric("foo", {"id": "prom"}, 63, 1711478257), tsdb.common.Metric("foo", {"id": "prom"}, 93, 1711478258), tsdb.common.Metric("foo", {"id": "prom"}, 84, 1711478259), tsdb.common.Metric("foo", {"id": "prom"}, 78, 1711478260), tsdb.common.Metric("foo", {"id": "prom"}, 70, 1711478261), tsdb.common.Metric("foo", {"id": "prom"}, 92, 1711478262), tsdb.common.Metric("foo", {"id": "prom"}, 90, 1711478263), tsdb.common.Metric("foo", {"id": "prom"}, 16, 1711478264), tsdb.common.Metric("foo", {"id": "prom"}, 25, 1711478265), tsdb.common.Metric("foo", {"id": "prom"}, 41, 1711478266), tsdb.common.Metric("foo", {"id": "prom"}, 99, 1711478267), tsdb.common.Metric("foo", {"id": "prom"}, 47, 1711478268), tsdb.common.Metric("foo", {"id": "prom"}, 57, 1711478269), tsdb.common.Metric("foo", {"id": "prom"}, 24, 1711478270), tsdb.common.Metric("foo", {"id": "prom"}, 84, 1711478271), tsdb.common.Metric("foo", {"id": "prom"}, 93, 1711478272), tsdb.common.Metric("foo", {"id": "prom"}, 44, 1711478273), tsdb.common.Metric("foo", {"id": "prom"}, 0, 1711478274), tsdb.common.Metric("foo", {"id": "prom"}, 8, 1711478275), tsdb.common.Metric("foo", {"id": "prom"}, 20, 1711478276), tsdb.common.Metric("foo", {"id": "prom"}, 71, 1711478277), tsdb.common.Metric("foo", {"id": "prom"}, 71, 1711478278), tsdb.common.Metric("foo", {"id": "prom"}, 78, 1711478279), tsdb.common.Metric("foo", {"id": "prom"}, 4, 1711478280), tsdb.common.Metric("foo", {"id": "prom"}, 5, 1711478281), tsdb.common.Metric("foo", {"id": "prom"}, 2, 1711478282), tsdb.common.Metric("foo", {"id": "prom"}, 61, 1711478283), tsdb.common.Metric("foo", {"id": "prom"}, 27, 1711478284), tsdb.common.Metric("foo", {"id": "prom"}, 53, 1711478285), tsdb.common.Metric("foo", {"id": "prom"}, 68, 1711478286), tsdb.common.Metric("foo", {"id": "prom"}, 97, 1711478287), tsdb.common.Metric("foo", {"id": "prom"}, 75, 1711478288), tsdb.common.Metric("foo", {"id": "prom"}, 64, 1711478289), tsdb.common.Metric("foo", {"id": "prom"}, 13, 1711478290), tsdb.common.Metric("foo", {"id": "prom"}, 37, 1711478291), tsdb.common.Metric("foo", {"id": "prom"}, 32, 1711478292), tsdb.common.Metric("foo", {"id": "prom"}, 100, 1711478293), tsdb.common.Metric("foo", {"id": "prom"}, 56, 1711478294), tsdb.common.Metric("foo", {"id": "prom"}, 100, 1711478295), tsdb.common.Metric("foo", {"id": "prom"}, 31, 1711478296), tsdb.common.Metric("foo", {"id": "prom"}, 53, 1711478297), tsdb.common.Metric("foo", {"id": "prom"}, 15, 1711478298), tsdb.common.Metric("foo", {"id": "prom"}, 94, 1711478299), tsdb.common.Metric("foo", {"id": "prom"}, 27, 1711478300), tsdb.common.Metric("foo", {"id": "prom"}, 66, 1711478301), tsdb.common.Metric("foo", {"id": "prom"}, 54, 1711478302), tsdb.common.Metric("foo", {"id": "prom"}, 51, 1711478303), tsdb.common.Metric("foo", {"id": "prom"}, 14, 1711478304), tsdb.common.Metric("foo", {"id": "prom"}, 23, 1711478305), tsdb.common.Metric("foo", {"id": "prom"}, 44, 1711478306), tsdb.common.Metric("foo", {"id": "prom"}, 97, 1711478307), tsdb.common.Metric("foo", {"id": "prom"}, 62, 1711478308), tsdb.common.Metric("foo", {"id": "prom"}, 35, 1711478310), tsdb.common.Metric("foo", {"id": "prom"}, 98, 1711478311), tsdb.common.Metric("foo", {"id": "prom"}, 12, 1711478312), tsdb.common.Metric("foo", {"id": "prom"}, 49, 1711478313), tsdb.common.Metric("foo", {"id": "prom"}, 45, 1711478314), tsdb.common.Metric("foo", {"id": "prom"}, 77, 1711478315), tsdb.common.Metric("foo", {"id": "prom"}, 58, 1711478316), tsdb.common.Metric("foo", {"id": "prom"}, 75, 1711478317), tsdb.common.Metric("foo", {"id": "prom"}, 49, 1711478318), tsdb.common.Metric("foo", {"id": "prom"}, 79, 1711478319), tsdb.common.Metric("foo", {"id": "prom"}, 74, 1711478320), tsdb.common.Metric("foo", {"id": "prom"}, 1, 1711478321), tsdb.common.Metric("foo", {"id": "prom"}, 68, 1711478322), tsdb.common.Metric("foo", {"id": "prom"}, 75, 1711478323), tsdb.common.Metric("foo", {"id": "prom"}, 7, 1711478324), tsdb.common.Metric("foo", {"id": "prom"}, 45, 1711478325), tsdb.common.Metric("foo", {"id": "prom"}, 63, 1711478326), tsdb.common.Metric("foo", {"id": "prom"}, 50, 1711478327), tsdb.common.Metric("foo", {"id": "prom"}, 1, 1711478328), tsdb.common.Metric("foo", {"id": "prom"}, 18, 1711478329), tsdb.common.Metric("foo", {"id": "prom"}, 57, 1711478330), tsdb.common.Metric("foo", {"id": "prom"}, 8, 1711478331), tsdb.common.Metric("foo", {"id": "prom"}, 62, 1711478332), tsdb.common.Metric("foo", {"id": "prom"}, 68, 1711478333), tsdb.common.Metric("foo", {"id": "prom"}, 70, 1711478334), tsdb.common.Metric("foo", {"id": "prom"}, 94, 1711478335), tsdb.common.Metric("foo", {"id": "prom"}, 80, 1711478336), tsdb.common.Metric("foo", {"id": "prom"}, 88, 1711478337), tsdb.common.Metric("foo", {"id": "prom"}, 18, 1711478338), tsdb.common.Metric("foo", {"id": "prom"}, 40, 1711478339), tsdb.common.Metric("foo", {"id": "prom"}, 18, 1711478340), tsdb.common.Metric("foo", {"id": "prom"}, 81, 1711478341), tsdb.common.Metric("foo", {"id": "prom"}, 56, 1711478342), tsdb.common.Metric("foo", {"id": "prom"}, 43, 1711478343), tsdb.common.Metric("foo", {"id": "prom"}, 80, 1711478344), tsdb.common.Metric("foo", {"id": "prom"}, 27, 1711478345) ]

    payload = tsdb.prometheus.assemble_payload(metrics)
